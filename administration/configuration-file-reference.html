<!DOCTYPE html>
<html>
<head>
  <title>Configuration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(function(){ jQuery('table').addClass('table table-condensed table-responsive'); });
</script>
  <link rel="stylesheet" href="../style.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav">
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="http://rundeck.org/index.html">
      Rundeck
      <p class="small rd_version">Enables Self-Service Operations</p>
    </a>
  </div>
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
    
    <li class="item about selected">
      <a href="http://rundeck.org/about.html">
        About
        <p class="small">News, Videos, Docs</p>
      </a>
    </li>
    <li class="item help">
      <a href="http://rundeck.org/help.html">
        Get Help
        <p class="small">IRC List Tracker</p>
      </a>
    </li>
    <li class="item plugins ">
      <a href="http://rundeck.org/plugins/index.html">
        Plugins
        <p class="small">Integrate Rundeck</p>
      </a>
    </li>
    <li class="item downloads  omega">
    <a href="http://rundeck.org/downloads.html">
      Download
      <p class="small rd_version">2.1.3</p>
      </a>
    </li>
    </ul>
    <form class="navbar-form navbar-left" role="search"  action="http://rundeck.org/search/">
      <div class="form-group">
        <input type="text" class="form-control" name="q" placeholder="Search">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
    </form>
  </div>
  </div>
</nav>

<div class="container top breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb top">

    
        <li><a href="../index.html">Rundeck Documentation (2.1.3)</a></li>
    
    
    <li ><a href="index.html">Administrator Guide</a></li>
    <li class="active"><a href="configuration-file-reference.html">Configuration File Reference</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="gui-customization.html"><i class="glyphicon glyphicon-arrow-left"></i> GUI Customization</a></li>
      <li class="next"><a href="backup-and-recovery.html">Backup and Recovery <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
</div>
<div id="docbody">
<div class="container">
<div class="row">
<div class="col-sm-3 toc-nav">
<div class="nav">
<div id="TOC"
><ul
  ><li
    ><a href="#configuration-layout"
      >Configuration layout</a
      ><ul
      ><li
	><a href="#rpm-layout"
	  >RPM layout</a
	  ></li
	><li
	><a href="#launcher-layout"
	  >Launcher layout</a
	  ></li
	></ul
      ></li
    ><li
    ><a href="#configuration-files"
      >Configuration files</a
      ><ul
      ><li
	><a href="#admin.aclpolicy"
	  >admin.aclpolicy</a
	  ></li
	><li
	><a href="#framework.properties"
	  >framework.properties</a
	  ></li
	><li
	><a href="#log4j.properties"
	  >log4j.properties</a
	  ></li
	><li
	><a href="#profile"
	  >profile</a
	  ></li
	><li
	><a href="#project.properties"
	  >project.properties</a
	  ></li
	><li
	><a href="#jaas-loginmodule.conf"
	  >jaas-loginmodule.conf</a
	  ></li
	><li
	><a href="#realm.properties"
	  >realm.properties</a
	  ></li
	><li
	><a href="#rundeck-config.properties"
	  >rundeck-config.properties</a
	  ><ul
	  ><li
	    ><a href="#ssh-key-storage-settings"
	      >SSH Key Storage settings</a
	      ></li
	    ><li
	    ><a href="#notification-email-settings"
	      >Notification email settings</a
	      ></li
	    ><li
	    ><a href="#custom-email-templates"
	      >Custom Email Templates</a
	      ></li
	    ><li
	    ><a href="#execution-finalize-retry-settings"
	      >Execution finalize retry settings</a
	      ></li
	    ></ul
	  ></li
	></ul
      ></li
    ></ul
  ></div
>
</div>
</div>
<div class="col-sm-9">
<div class="page-header">
<h1 class="title">Configuration</h1>
</div>
<div id="configuration-layout"
><h2
  ><a href="#TOC"
    >Configuration layout</a
    ></h2
  ><p
  >Configuration file layout differs between the RPM and Launcher installation methods.</p
  ><div id="rpm-layout"
  ><h3
    ><a href="#TOC"
      >RPM layout</a
      ></h3
    ><pre
    ><code
      >/etc/rundeck
|-- admin.aclpolicy
|-- framework.properties
|-- log4j.properties
|-- profile
|-- project.properties
|-- jaas-loginmodule.conf
|-- log4j.properties
|-- realm.properties
|-- rundeck-config.properties
`-- ssl
    |-- ssl.properties
    |-- keystore (not packaged)
    `-- truststore (not packaged)
</code
      ></pre
    ></div
  ><div id="launcher-layout"
  ><h3
    ><a href="#TOC"
      >Launcher layout</a
      ></h3
    ><pre
    ><code
      >$RDECK_BASE/etc
|-- admin.aclpolicy
|-- framework.properties
|-- log4j.properties
|-- profile
`-- project.properties
$RDECK_BASE/server/config
|-- jaas-loginmodule.conf
|-- realm.properties
`-- rundeck-config.properties
</code
      ></pre
    ></div
  ></div
><div id="configuration-files"
><h2
  ><a href="#TOC"
    >Configuration files</a
    ></h2
  ><p
  >Configuration is specified in a number of standard Rundeck configuration files generated during the installation process.</p
  ><p
  >The purpose of each configuration file is described in its own section.</p
  ><div id="admin.aclpolicy"
  ><h3
    ><a href="#TOC"
      >admin.aclpolicy</a
      ></h3
    ><p
    >Administrator access control policy defined with a [aclpolicy] document.</p
    ><p
    >This file governs the access for the &quot;admin&quot; group and role.</p
    ><p
    >See <a href="access-control-policy.html"
      >role based access control</a
      > for information about setting up policy files for other user groups.</p
    ></div
  ><div id="framework.properties"
  ><h3
    ><a href="#TOC"
      >framework.properties</a
      ></h3
    ><p
    >Configuration file used by shell tools and core Rundeck services. This file will be created for you at install time.</p
    ><p
    >Some important settings:</p
    ><ul
    ><li
      ><code
	>framework.server.hostname</code
	>: Hostname of the Rundeck server node</li
      ><li
      ><code
	>framework.server.name</code
	>: Name (identity) of the Rundeck server node</li
      ><li
      ><code
	>framework.projects.dir</code
	>: Path to the directory containing Rundeck Project directories. Default is <code
	>$RDECK_BASE/projects</code
	>.</li
      ><li
      ><code
	>framework.var.dir</code
	>: Base directory for output and temp files used by the server and CLI tools. Default is <code
	>$RDECK_BASE/var</code
	>.</li
      ><li
      ><code
	>framework.logs.dir</code
	>: Directory for log files written by core services and Rundeck Server's Job executions. Default is <code
	>$RDECK_BASE/var/logs</code
	></li
      ><li
      ><code
	>framework.server.username</code
	>: Username for connection to the Rundeck server</li
      ><li
      ><code
	>framework.server.password</code
	>: Password for connection to the Rundeck server</li
      ><li
      ><code
	>framework.rundeck.url</code
	>: Base URL for Rundeck server.</li
      ></ul
    ><p
    >SSH Connection settings:</p
    ><ul
    ><li
      ><code
	>framework.ssh.keypath</code
	>: Path to the SSH private key file used for SSH connections</li
      ><li
      ><code
	>framework.ssh.user</code
	>: Default username for SSH Connections, if not overridden by Node specific value.</li
      ><li
      ><code
	>framework.ssh.timeout</code
	>: timeout in milliseconds for SSH connections and executions. The default is &quot;0&quot; (no timeout). You can modify this to change the maximum time allowed for SSH connections.</li
      ></ul
    ><p
    >Other settings:</p
    ><ul
    ><li
      ><code
	>framework.log.dispatch.console.format</code
	>: Default format for non-terse node execution logging run by the <code
	>dispatch</code
	> CLI tool.</li
      ></ul
    ><p
    >Static authentication tokens for API access:</p
    ><p
    >You can define the location of a .properties file in framework.properties:</p
    ><ul
    ><li
      ><code
	>rundeck.tokens.file=/etc/rundeck/tokens.properties</code
	></li
      ></ul
    ><p
    >The <code
      >tokens.properties</code
      > file should contain static authentication tokens you wish to use, keyed by the associated username:</p
    ><pre
    ><code
      >username: token_string
username2: token_string2
...
</code
      ></pre
    ><p
    >The token_strings can be used as Authentication tokens to the <a href="../api/index.html#token-authentication"
      >API</a
      >.</p
    ></div
  ><div id="log4j.properties"
  ><h3
    ><a href="#TOC"
      >log4j.properties</a
      ></h3
    ><p
    >Rundeck uses <a href="http://logging.apache.org/log4j/"
      >log4j</a
      > as its application logging facility. This file defines the logging configuration for the Rundeck server.</p
    ></div
  ><div id="profile"
  ><h3
    ><a href="#TOC"
      >profile</a
      ></h3
    ><p
    >Shell environment variables used by the shell tools. This file contains several parameters needed during the startup of the shell tools like umask, Java home and classpath, and SSL options.</p
    ></div
  ><div id="project.properties"
  ><h3
    ><a href="#TOC"
      >project.properties</a
      ></h3
    ><p
    >Rundeck project configuration file. One of these is generated at project setup time. Each project has a directory within the Rundeck projects directory, and the config file is within the <code
      >etc</code
      > subdirectory:</p
    ><pre
    ><code
      >$RDECK_BASE/projects/[PROJECT-NAME]/etc/project.properties
</code
      ></pre
    ><table
    ><thead
      ><tr class="header"
	><th align="left"
	  >Property</th
	  ><th align="left"
	  >Description</th
	  ></tr
	></thead
      ><tbody
      ><tr class="odd"
	><td align="left"
	  ><code
	    >project.name</code
	    ></td
	  ><td align="left"
	  >Declare the project name.</td
	  ></tr
	><tr class="even"
	><td align="left"
	  ><code
	    >project.ssh-authentication</code
	    ></td
	  ><td align="left"
	  >SSH authentication type (eg, privateKey).</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  ><code
	    >project.ssh-keypath</code
	    ></td
	  ><td align="left"
	  >SSH identify file.</td
	  ></tr
	><tr class="even"
	><td align="left"
	  ><code
	    >service.FileCopier.default.provider</code
	    ></td
	  ><td align="left"
	  >Default script file copier plugin.</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  ><code
	    >service.NodeExecutor.default.provider</code
	    ></td
	  ><td align="left"
	  >Default node executor plugin.</td
	  ></tr
	><tr class="even"
	><td align="left"
	  ><code
	    >resources.source.N...</code
	    ></td
	  ><td align="left"
	  >Defines a Resource model source see <a href="../administration/managing-node-sources.html"
	    >Resource Model Sources</a
	    >.</td
	  ></tr
	></tbody
      ></table
    ><p
    >Here's an example that configures a File source:</p
    ><pre
    ><code
      >resources.source.1.config.file=/var/rundeck/projects/${project.name}/etc/resources.xml
resources.source.1.config.generateFileAutomatically=true
resources.source.1.config.includeServerNode=true
resources.source.1.type=file
</code
      ></pre
    ><p
    >Another that configures a URL source:</p
    ><pre
    ><code
      >resources.source.2.config.cache=true
resources.source.2.config.timeout=30
resources.source.2.config.url=http\://example.com/nodes
resources.source.2.type=url
</code
      ></pre
    ><p
    >And one that configures a Directory source:</p
    ><pre
    ><code
      >resources.source.3.config.directory=/var/rundeck/projects/${project.name}/site_nodes
resources.source.3.type=directory
</code
      ></pre
    ><p
    >Additional sources increment the source number. You can reference the project name by using the <code
      >${project.name}</code
      > context variable.</p
    ></div
  ><div id="jaas-loginmodule.conf"
  ><h3
    ><a href="#TOC"
      >jaas-loginmodule.conf</a
      ></h3
    ><p
    ><a href="http://docs.codehaus.org/display/JETTY/JAAS"
      >JAAS</a
      > configuration for the Rundeck server. The listing below shows the file content for a normal RPM installation. One can see it specifies the use of the PropertyFileLoginModule:</p
    ><pre
    ><code
      >RDpropertyfilelogin {
  org.eclipse.jetty.plus.jaas.spi.PropertyFileLoginModule required
  debug=&quot;true&quot;
  file=&quot;/etc/rundeck/realm.properties&quot;;
};
</code
      ></pre
    ></div
  ><div id="realm.properties"
  ><h3
    ><a href="#TOC"
      >realm.properties</a
      ></h3
    ><p
    >Property file user directory when PropertyFileLoginModule is used. Specified from <a href="#jaas-loginmodule.conf"
      >jaas-loginmodule.conf</a
      >.</p
    ></div
  ><div id="rundeck-config.properties"
  ><h3
    ><a href="#TOC"
      >rundeck-config.properties</a
      ></h3
    ><p
    >The primary Rundeck webapp configuration file. Defines default loglevel, datasource configuration, and <a href="gui-customization.html"
      >GUI customization</a
      >.</p
    ><div id="ssh-key-storage-settings"
    ><h4
      ><a href="#TOC"
	>SSH Key Storage settings</a
	></h4
      ><p
      >The <a href="ssh-key-storage.html"
	>SSH Key storage</a
	> mechanism is configured within this file, see:</p
      ><ul
      ><li
	><a href="ssh-key-storage.html#configuring-storage-plugins"
	  >Configuring Storage Plugins</a
	  ></li
	><li
	><a href="ssh-key-storage.html#configuring-storage-converter-plugins"
	  >Configuring Storage Converter Plugins</a
	  ></li
	></ul
      ></div
    ><div id="notification-email-settings"
    ><h4
      ><a href="#TOC"
	>Notification email settings</a
	></h4
      ><p
      >The URL and From: address used in email notifications are managed via the settings located in the rundeck-config.properties file.</p
      ><p
      >The two properties are:</p
      ><ul
      ><li
	>grails.serverURL</li
	><li
	>grails.mail.default.from</li
	></ul
      ><p
      >Here's an example:</p
      ><pre
      ><code
	>grails.serverURL=https://node.fully.qualified.domain.name:4443
grails.mail.default.from=deployer@domain.com
</code
	></pre
      ></div
    ><div id="custom-email-templates"
    ><h4
      ><a href="#TOC"
	>Custom Email Templates</a
	></h4
      ><p
      >You can define these properties to customize the email notifications. Each property can be defined for a specific Trigger, or for the general case. Available triggers are: <code
	>success</code
	>,<code
	>failure</code
	>, and <code
	>start</code
	>:</p
      ><pre
      ><code
	># trigger-specific templating
rundeck.mail.[trigger].template.subject=[custom subject line]
rundeck.mail.[trigger].template.file=[path to template file]
rundeck.mail.[trigger].template.log.formatted=true/false (if true, prefix log lines with context information)

# apply to any triggers not specified
rundeck.mail.template.subject=[Default subject line]
rundeck.mail.template.file=[path to template file]
rundeck.mail.template.log.formatted=true/false (if true, prefix log lines with context information)
</code
	></pre
      ><p
      >If a template filepath ends with <code
	>.md</code
	> or <code
	>.markdown</code
	>, then it will be interpreted as a Markdown formatted template. Otherwise it is expected that the template file contains HTML.</p
      ><p
      >The Subject line, filepath, and file contents can all contain embedded property references of the form <code
	>${group.key}</code
	>. The available properties are mostly the same as those available for Notification Plugins, including the <code
	>execution.*</code
	> and <code
	>job.*</code
	> values. See <a href="../developer/notification-plugin.html#execution-data"
	>Plugin Development - Notification Plugin - Execution Data</a
	>.</p
      ><p
      >The &quot;Context Variables&quot; values used within the execution are available just as they are in the execution, so options would be available as <code
	>${option.name}</code
	>.</p
      ><p
      >In addition these properties are defined:</p
      ><ul
      ><li
	><code
	  >rundeck.href</code
	  >: URL to the Rundeck server</li
	><li
	><code
	  >notification.trigger</code
	  >: Trigger name</li
	><li
	><code
	  >notification.eventStatus</code
	  >: A string indicating the combination of execution status, and notification trigger, suitable for an email subject line, such as &quot;KILLED&quot;, &quot;FAILURE&quot;, &quot;STARTING&quot;, &quot;SUCCESS&quot;.</li
	><li
	><code
	  >execution.projectHref</code
	  >: URL to the Project within Rundeck.</li
	></ul
      ></div
    ><div id="execution-finalize-retry-settings"
    ><h4
      ><a href="#TOC"
	>Execution finalize retry settings</a
	></h4
      ><p
      >If a sporadic DB connection failure happens when an execution finishes, Rundeck may fail to update the state of the execution in the database, causing the execution to appear is if it is still &quot;running&quot;.</p
      ><p
      >Rundeck now attempts to retry the update to correctly register the final state of the execution. You can tune how many times and how often this retry occurs with these config values:</p
      ><pre
      ><code
	># attempt to retry the final state update
rundeck.execution.finalize.retryMax=10
rundeck.execution.finalize.retryDelay=5000

# attempt to retry updating job statistics after execution finishes
rundeck.execution.stats.retryMax=3
rundeck.execution.stats.retryDelay=5000
</code
	></pre
      ><p
      >Delay is in milliseconds. If a max is set to <code
	>-1</code
	>, then retries will happen indefinitely.</p
      ></div
    ></div
  ></div
>
</div>
</div>
</div>
</div>

<div class="container bottom breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb bottom">

    
        <li><a href="../index.html">Rundeck Documentation (2.1.3)</a></li>
    
    
    <li ><a href="index.html">Administrator Guide</a></li>
    <li class="active"><a href="configuration-file-reference.html">Configuration File Reference</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="gui-customization.html"><i class="glyphicon glyphicon-arrow-left"></i> GUI Customization</a></li>
      <li class="next"><a href="backup-and-recovery.html">Backup and Recovery <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
</div>
<div class='container footer'>

<div class="row">
<footer class="copy col-sm-12 text-muted">

<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://dtosolutions.com" property="cc:attributionName" rel="cc:attributionURL">SimplifyOps</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
<p>
&copy;2014 <a href="http://simplifyops.com">#SimplifyOps</a>
</p>
<p>
<span class="generated-date" title="2014-06-27T17:41:29EDT">2014-06-27T17:41:29EDT</span>
</p>
</footer>
</div>
</div>
<script type="text/javascript">
  

   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>
</body>
</html>

